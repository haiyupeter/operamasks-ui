(function(){var j={title:null,iconCls:null,width:"auto",height:"auto",left:null,top:null,cls:null,headerCls:null,bodyCls:null,style:{},href:null,cache:true,fit:false,border:true,doSize:true,noHeader:false,clickExpand:false,content:null,url:null,collapsible:false,minimizable:false,maximizable:false,closable:false,collapsed:false,minimized:false,maximized:false,closed:false,tools:[],lazyLoad:false,loadingMessage:"Loading...",extractor:function(u){var t=/<body[^>]*>((.|[\n\r])*)<\/body>/im;var s=t.exec(u);if(s){return s[1]}else{return u}},onLoad:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onBeforeDestroy:function(){},onDestroy:function(){},onResize:function(t,s){},onMove:function(s,t){},onMaximize:function(){},onRestore:function(){},onMinimize:function(){},onBeforeCollapse:function(){},onBeforeExpand:function(){},onCollapse:function(){},onExpand:function(){}};function a(t){var s=$(t).addClass("om-panel-body om-widget-content").wrap('<div class="om-panel"></div>').parent();return s}function r(t){var w=$.data(t,"panel");var u=w.options,s=w.panel;var v=s.attr("style");if((v&&v.indexOf("width")!=-1)||u.width=="auto"){}else{if(u.width=="fit"){s.css("width","100%")}else{if(!!u.width){s.css("width",u.width)}}}if((v&&v.indexOf("height")!=-1)||u.height=="auto"){}else{if(u.height=="fit"){s.css("height","100%")}else{if(!!u.height){s.css("height",u.height)}}}p(t);c(t)}function p(D){var u=$.data(D,"panel");var E=u.options,s=u.panel;if(E.title&&!E.noHeader){var v=$('<div class="om-panel-header"></div>').prependTo(s);var B=$('<div class="om-panel-title"></div>').appendTo(v).html(E.title);if(E.clickExpand){v.css("cursor","pointer")}if(E.iconCls){B.addClass("om-panel-with-icon");var A=$('<div class="om-panel-icon"></div>').appendTo(v);A.addClass(E.iconCls)}var x=$('<div class="om-panel-tool"></div>').appendTo(v);var t,C,y,w;if(z(E.tools,"collapse")){C=$('<div class="om-panel-tool-collapse"></div>').prependTo(x)}if(z(E.tools,"min")){C=$('<div class="om-panel-tool-min"></div>').prependTo(x)}if(z(E.tools,"max")){y=$('<div class="om-panel-tool-max"></div>').prependTo(x)}if(E.closable||z(E.tools,"close")){t=$('<div class="om-panel-tool-close"></div>').prependTo(x)}}function z(H,G){var F=H.length;while(F--){if(H[F]==G){return true}}return false}}function c(u){var x=$.data(u,"panel");var v=x.options,t=x.panel;var s=t.find(">.om-panel-body");if(v.noHeader||!v.title){s.addClass("om-panel-body-noheader")}else{s.removeClass("om-panel-body-noheader")}if(!v.lazyLoad){d(u)}if(v.border==false){s.addClass("om-panel-body-noborder")}else{s.removeClass("om-panel-body-noborder")}var w=s.attr("style");if((w&&w.indexOf("height")!=-1)||v.height=="auto"){}else{var y=s.outerHeight()-s.height();s.css("height",t.innerHeight()-t.find(">.om-panel-header").outerHeight()-y)}t.css({marginTop:s.css("marginTop"),marginRight:s.css("marginRight"),marginBottom:s.css("marginBottom"),marginLeft:s.css("marginLeft")});s.css({marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,display:"block"})}function m(t){var v=$.data(t,"panel");var u=v.options,s=v.panel;if(u.closed==true){$(t).omPanel("close")}else{if(u.maximized==true){$(t).omPanel("maximize")}else{if(u.minimized==true){$(t).omPanel("minimize")}}}if(u.collapsed==true){$(t).omPanel("collapse")}}function b(t){var v=$.data(t,"panel");var u=v.options,s=v.panel;var w=s.find(">div.om-panel-header >div.om-panel-tool");w.find(".om-panel-tool-close").click(function(){$(t).omPanel("close",true);return false});w.find(".om-panel-tool-max").click(function(){alert("not implemented yet!");return false});w.find(".om-panel-tool-min").click(function(){alert("not implemented yet!");return false});w.find(".om-panel-tool-collapse").click(function(){if(u.collapsed==true){$(t).omPanel("expand",true)}else{$(t).omPanel("collapse",true)}return false});if(u.clickExpand){s.find(">div.om-panel-header").click(function(){if(u.collapsed==true){$(t).omPanel("expand",true)}else{$(t).omPanel("collapse",true)}return false})}}function f(t){var v=$.data(t,"panel");var u=v.options,s=v.panel;var x=s.find(">div.om-panel-header");var w=x.find(">div.om-panel-tool");x.unbind();w.children().unbind()}function i(u,y,x){var w=$.data(u,"panel");var v=w.options,t=w.panel;if(v.onBeforeOpen.call(u)==false){return false}var s=$.data(u,"panel").isLoaded;if(!s){d(u)}t.hide();t.css({position:"static",left:"auto",top:"auto"});if(y==true){t.fadeIn(x||"normal",function(){v.closed=false;v.minimized=false;v.onOpen.call(u)})}else{t.show();v.closed=false;v.minimized=false;v.onOpen.call(u)}}function e(t,x,w){var v=$.data(t,"panel");var u=v.options,s=v.panel;if(u.onBeforeClose.call(t)==false){return false}if(x==true){s.fadeOut(w||"normal",function(){u.closed=true;s.css({position:"absolute",left:-50000,top:-50000});s.show();u.onClose.call(t)})}else{u.closed=true;s.css({position:"absolute",left:-50000,top:-50000});u.onClose.call(t)}}function g(t,x,w){var v=$.data(t,"panel");var u=v.options,s=v.panel;var z=s.find(">div.om-panel-header"),y=z.find("div.om-panel-tool-collapse");if(y.length==0){return}if(u.onBeforeCollapse.call(t)==false){return false}z.removeClass("om-panel-expanded").addClass("om-panel-collapsed");y.removeClass("om-panel-tool-collapse").addClass("om-panel-tool-expand");if(x){s.find(">div.om-panel-body").slideUp(w||"slow",function(){u.collapsed=true;u.onCollapse.call(t)})}else{s.find(">div.om-panel-body").hide();u.collapsed=true;u.onCollapse.call(t)}}function h(t,y,x){var w=$.data(t,"panel");var u=w.options,s=w.panel;var z=s.find(">div.om-panel-header"),v=z.find("div.om-panel-tool-expand");if(v.length==0){return}if(u.onBeforeExpand.call(t)==false){return false}z.removeClass("om-panel-collapsed").addClass("om-panel-expanded");v.removeClass("om-panel-tool-expand").addClass("om-panel-tool-collapse");if(y){s.find(">div.om-panel-body").slideDown(x||"normal",function(){u.collapsed=false;u.onExpand.call(t)})}else{s.find(">div.om-panel-body").show();u.collapsed=false;u.onExpand.call(t)}}function l(t,w){var v=$.data(t,"panel");var u=v.options,s=v.panel;u.title=w;s.find(">div.om-panel-header div.om-panel-title").html(w)}function q(s,u,v){if(!(u=$.trim(u))){return false}var t=$.data(s,"panel").options;t.content=t.url=null;v==true?t.url=u:t.content=u;$.data(s,"panel")&&($.data(s,"panel").isLoaded=false)}function d(u){var w=$.data(u,"panel");var v=w.options,t=w.panel;var s=t.find(">.om-panel-body");if($.data(u,"panel").isLoading){return}$.data(u,"panel").isLoading=true;if(v.url){s.load(v.url,function(y,x,z){if(x=="success"){if($.data(u,"panel")){$.data(u,"panel").isLoaded=true;$.data(u,"panel").isLoading=false;v.onLoad.call(u)}}})}else{$.data(u,"panel").isLoading=false}}function k(t){var v=$.data(t,"panel");var u=v.options,s=v.panel;if(!s.hasClass("om-state-disabled")){s.addClass("om-state-disabled");var w=$(t).omPanel("header");w.addClass("om-state-disabled");w.css("cursor","default");w.find(">div.om-panel-icon").addClass("om-panel-icon-disabled");w.find(">div.om-panel-tool").addClass("om-panel-icon-disabled");$(t).omPanel("body").addClass("om-state-disabled")}f(t)}function o(t){var v=$.data(t,"panel");var u=v.options,s=v.panel;if(s.hasClass("om-state-disabled")){s.removeClass("om-state-disabled");var w=$(t).omPanel("header");w.removeClass("om-state-disabled");w.find(">div.om-panel-icon").removeClass("om-panel-icon-disabled");w.find(">div.om-panel-tool").removeClass("om-panel-icon-disabled");$(t).omPanel("body").removeClass("om-state-disabled")}$(t).omPanel("header").css("cursor","pointer");b(t)}var n={options:function(t){var s=$.data(this[0],"panel").options;if(t){$.extend(s,t)}return s},panel:function(){return $.data(this[0],"panel").panel},header:function(){return $.data(this[0],"panel").panel.find(">div.om-panel-header")},body:function(){return $.data(this[0],"panel").panel.find(">div.om-panel-body")},setTitle:function(s){return this.each(function(){l(this,s)})},setDataSource:function(s,t){return this.each(function(){q(this,s,t)})},open:function(t,s){return this.each(function(){i(this,t,s)})},close:function(t,s){return this.each(function(){e(this,t,s)})},disable:function(){return this.each(function(){k(this)})},enable:function(){return this.each(function(){o(this)})},collapse:function(t,s){return this.each(function(){g(this,t,s)})},expand:function(t,s){return this.each(function(){h(this,t,s)})},reload:function(s,t){return this.each(function(){q(this,s,t);d(this)})},destroy:function(s){return this.each(function(){_30(this,s)})},resize:function(s){return this.each(function(){resize(this,s)})},move:function(s){return this.each(function(){_a(this,s)})},maximize:function(){return this.each(function(){_2a(this)})},minimize:function(){return this.each(function(){_46(this)})},restore:function(){return this.each(function(){_4a(this)})}};$.fn.omPanel=function(s){if(s&&typeof(s)=="string"){if(n[s]){return n[s].apply(this,Array.prototype.slice.call(arguments,1))}return null}return this.each(function(){var u=$.data(this,"panel");var t;if(u){$.extend(u.options,s)}else{t=$.extend({},j,s);u=$.data(this,"panel",{options:t,panel:a(this),isLoaded:false,isLoading:false})}r(this);m(this);b(this)})}})(jQuery);