(function(a){a.widget("om.omEditor",{options:{toolbar:"Full",height:200,skin:"eac",width:"",readOnly:false,basicEntities:true,entities:false,docType:"<!DOCTYPE HTML>",enableTabKeyTools:true,enterMode:OMEDITOR.ENTER_P,resizable:true,startupFocus:false,startupMode:"wysiwyg",undoStackSize:20,uiColor:"",},_create:function(){if(!this.options.allowImageType){this.options.allowImageType=["jpg","gif","png"]}if(!this.options.keystrokes){this.options.keystrokes=[[OMEDITOR.ALT+121,"toolbarFocus"],[OMEDITOR.ALT+122,"elementsPathFocus"],[OMEDITOR.SHIFT+121,"contextMenu"],[OMEDITOR.CTRL+OMEDITOR.SHIFT+121,"contextMenu"],[OMEDITOR.CTRL+90,"undo"],[OMEDITOR.CTRL+89,"redo"],[OMEDITOR.CTRL+OMEDITOR.SHIFT+90,"redo"],[OMEDITOR.CTRL+76,"link"],[OMEDITOR.CTRL+66,"bold"],[OMEDITOR.CTRL+73,"italic"],[OMEDITOR.CTRL+84,"underline"],[OMEDITOR.ALT+(OMEDITOR.env.ie||OMEDITOR.env.webkit?189:109),"toolbarCollapse"],[OMEDITOR.ALT+48,"a11yHelp"]]}if(!this.options.blockedBrowserKeystrokes){this.options.blockedBrowserKeystrokes=[OMEDITOR.CTRL+66,OMEDITOR.CTRL+73,OMEDITOR.CTRL+85]}this.options.blockedKeystrokes=this.options.blockedBrowserKeystrokes;var b=this.options;this.element.filter("textarea, div, p").each(function(){var c=a(this),e=c.data("omeditorInstance"),d=this;if(!e){e=OMEDITOR.replace(d,b);c.data("omeditorInstance",e)}})},_init:function(){},_get:function(b){return b.data("omeditorInstance")},getData:function(){var b=this._get(this.element.eq(0));return b.getData()},getPlainText:function(){var b=this.getData();b=b.replace(/<(?!img|embed).*?>/ig,"");b=b.replace(/&nbsp;/ig," ");b=b.replace(/<(?:img|embed).*?>/ig,"");b=b.replace(/\r\n|\n|\r/g,"");b=OMEDITOR.tools.trim(b);return b},setData:function(c){var b=this;this.element.each(function(){var d=b._get(a(this));d.setData(c)})},setReadOnly:function(c){var b=this;this.element.each(function(){var d=b._get(a(this));d.setReadOnly(c)})},insertHtml:function(c){var b=this;this.element.each(function(){var d=b._get(a(this));d.insertHtml(c)})},insertText:function(c){var b=this;this.element.each(function(){var d=b._get(a(this));d.insertText(c)})},updateElement:function(){var b=this;this.element.each(function(){var c=b._get(a(this));c.updateElement()})}})})(jQuery);